-- 테이블 순서는 관계를 고려하여 한 번에 실행해도 에러가 발생하지 않게 정렬되었습니다.

-- tr_account Table Create SQL
CREATE TABLE tr_account
(
    `no`            TINYINT        NOT NULL    AUTO_INCREMENT COMMENT 'AI Index',
    `id`            VARCHAR(20)    NOT NULL    COMMENT '아이디',
    `password`      CHAR(60)       NOT NULL    COMMENT '패스워드',
    `name`          VARCHAR(10)    NOT NULL    COMMENT '이름',
    `email`         VARCHAR(45)    NOT NULL    COMMENT '이메일',
    `email_status`  CHAR(8)        NOT NULL    DEFAULT 'INACTIVE' COMMENT '이메일 인증',
    `status`        CHAR(5)        NOT NULL    DEFAULT 'ALIVE' COMMENT '회원 상태',
    `registered`    TIMESTAMP      NOT NULL    DEFAULT current_timestamp COMMENT '가입 일자',
    `updated`       TIMESTAMP      NOT NULL    DEFAULT current_timestamp COMMENT '업데이트 날자',
     PRIMARY KEY (no)
);

ALTER TABLE tr_account COMMENT '회원 테이블';

CREATE UNIQUE INDEX UQ_tr_account_1
    ON tr_account(id, email);


-- tr_account_admin Table Create SQL
CREATE TABLE tr_account_admin
(
    `no`          TINYINT        NOT NULL    AUTO_INCREMENT COMMENT 'AI Index',
    `id`          VARCHAR(20)    NOT NULL    COMMENT '아이디',
    `password`    CHAR(60)       NOT NULL    COMMENT '패스워드',
    `name`        VARCHAR(10)    NOT NULL    COMMENT '관리자명',
    `authority`   TINYINT        NOT NULL    DEFAULT 0 COMMENT '권한(0:최고)',
    `status`      CHAR(5)        NOT NULL    DEFAULT 'ALIVE' COMMENT '계정 상태',
    `registered`  TIMESTAMP      NOT NULL    DEFAULT current_timestamp COMMENT '등록 일자',
    `updated`     TIMESTAMP      NOT NULL    DEFAULT current_timestamp COMMENT '업데이트 일자',
     PRIMARY KEY (no)
);

ALTER TABLE tr_account_admin COMMENT '관리자 테이블';

CREATE UNIQUE INDEX UQ_tr_account_admin_1
    ON tr_account_admin(id, name);


